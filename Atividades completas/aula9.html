<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula 04 – Animações com Biblioteca Famosa (Anime.js)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <style>
    /* Aula 04 – Biblioteca de Animações (Anime.js) */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #222;
      margin: 0;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Partículas de fundo */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
    }

    header {
      background: rgba(99, 102, 241, 0.95);
      backdrop-filter: blur(10px);
      color: #fff;
      padding: 40px 0 20px 0;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    header h1 {
      font-size: 2.5rem;
      margin: 0 0 10px 0;
      font-weight: 700;
      position: relative;
      z-index: 1;
    }

    header h1 span {
      color: #fbbf24;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    nav {
      margin-top: 16px;
      position: relative;
      z-index: 1;
    }

    .tab-btn {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      color: #6366f1;
      border: none;
      border-radius: 25px;
      padding: 12px 32px;
      font-size: 1rem;
      margin: 0 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .tab-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s;
    }

    .tab-btn:hover::before {
      left: 100%;
    }

    .tab-btn.active, .tab-btn:hover {
      background: #fbbf24;
      color: #222;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(251, 191, 36, 0.4);
    }

    .dashboard {
      max-width: 1200px;
      margin: 40px auto;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      padding: 0 0 40px 0;
      position: relative;
      overflow: hidden;
    }

    .dashboard::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #6366f1, #fbbf24, #6366f1);
      background-size: 200% 100%;
      animation: gradientMove 3s ease-in-out infinite;
    }

    @keyframes gradientMove {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .tabs {
      padding: 0 40px;
    }

    .tab-content {
      display: none;
      padding-top: 30px;
      animation: fadeInUp 0.5s ease-out;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Galeria */
    .template-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 30px;
      margin: 30px 0 20px 0;
      padding: 0 20px;
    }

    .template-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      padding: 24px 16px 16px 16px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .template-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(251, 191, 36, 0.1));
      opacity: 0;
      transition: opacity 0.3s;
    }

    .template-card:hover::before {
      opacity: 1;
    }

    .template-card:hover {
      transform: translateY(-8px) scale(1.05);
      box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
    }

    .template-card.highlight {
      background: linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(99, 102, 241, 0.3));
      transform: translateY(-8px) scale(1.08);
      box-shadow: 0 25px 50px rgba(251, 191, 36, 0.4);
    }

    .template-preview {
      width: 60px;
      height: 60px;
      margin: 0 auto 12px auto;
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      color: #222;
      box-shadow: 0 4px 20px rgba(251, 191, 36, 0.3);
      overflow: hidden;
      position: relative;
      font-weight: bold;
    }

    .template-preview::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shine 2s infinite;
    }

    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    .template-label {
      font-size: 1.1rem;
      color: #6366f1;
      font-weight: 600;
      margin-top: 4px;
      position: relative;
      z-index: 1;
    }

    .random-btn {
      display: block;
      margin: 30px auto 0 auto;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: #fff;
      border: none;
      border-radius: 50px;
      padding: 16px 40px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
    }

    .random-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .random-btn:hover::before {
      left: 100%;
    }

    .random-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(99, 102, 241, 0.4);
    }

    .random-btn:active {
      transform: translateY(0);
    }

    /* Sobre/Easter Egg */
    #tab-sobre {
      text-align: center;
      color: #444;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    #tab-sobre h2 {
      color: #6366f1;
      margin-bottom: 20px;
      font-size: 2rem;
    }

    #tab-sobre p {
      font-size: 1.1rem;
      margin-bottom: 15px;
    }

    #tab-sobre code {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: #222;
      border-radius: 6px;
      padding: 4px 8px;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(251, 191, 36, 0.3);
    }

    #tab-sobre small {
      color: #6366f1;
      font-style: italic;
    }

    /* Mini-boxes para preview stagger */
    .mini-box {
      display: inline-block;
      width: 16px;
      height: 16px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      border-radius: 4px;
      margin: 0 3px;
      box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
    }

    /* Floating Elements */
    .floating-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .floating-shape {
      position: absolute;
      opacity: 0.1;
    }

    .shape-circle {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: linear-gradient(135deg, #6366f1, #fbbf24);
    }

    .shape-square {
      width: 80px;
      height: 80px;
      background: linear-gradient(45deg, #fbbf24, #6366f1);
      transform: rotate(45deg);
    }

    .shape-triangle {
      width: 0;
      height: 0;
      border-left: 40px solid transparent;
      border-right: 40px solid transparent;
      border-bottom: 80px solid #6366f1;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #fbbf24;
      pointer-events: none;
      z-index: 9999;
    }

    /* Easter Egg - Magic Mode */
    .magic-mode {
      animation: magicPulse 1s infinite alternate;
    }

    @keyframes magicPulse {
      0% { filter: hue-rotate(0deg) brightness(1); }
      100% { filter: hue-rotate(360deg) brightness(1.2); }
    }

    /* Responsivo */
    @media (max-width: 768px) {
      .dashboard {
        margin: 20px;
        border-radius: 16px;
      }
      
      .tabs {
        padding: 0 20px;
      }
      
      .template-gallery {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 20px;
        padding: 0 10px;
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      .tab-btn {
        padding: 10px 20px;
        margin: 0 4px;
        font-size: 0.9rem;
      }
    }

    footer {
      text-align: center;
      color: rgba(255, 255, 255, 0.8);
      background: none;
      padding: 20px 0;
      font-size: 1rem;
      font-weight: 500;
    }

    /* Loading Animation */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s, visibility 0.5s;
    }

    .loading-overlay.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loader {
      width: 80px;
      height: 80px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid #fbbf24;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loader"></div>
  </div>

  <!-- Floating Shapes -->
  <div class="floating-shapes" id="floatingShapes"></div>

  <!-- Particles Background -->
  <div class="particles" id="particles"></div>

  <header>
    <h1>Aula 04 – Animações com Biblioteca Famosa <span>Anime.js</span></h1>
    <nav>
      <button class="tab-btn active" data-tab="galeria">Galeria</button>
      <button class="tab-btn" data-tab="sobre">Sobre</button>
    </nav>
  </header>

  <main>
    <section class="dashboard">
      <div class="tabs">
        <div class="tab-content active" id="tab-galeria">
          <h2>Galeria de Animações</h2>
          <div class="template-gallery" id="templateGallery">
            <!-- Templates inseridos via JS -->
          </div>
          <button id="btnRandom" class="random-btn">🎲 Random Animation</button>
        </div>
        <div class="tab-content" id="tab-sobre">
          <h2>Sobre esta Aula</h2>
          <p>Explore dezenas de animações prontas, customize, veja o código Anime.js e aprenda como criar efeitos incríveis na web!</p>
          <p><b>Easter Egg:</b> Tente digitar <code>magic</code> na página para uma surpresa! ✨</p>
          <p><small>Desenvolvido para fins didáticos. Não copie o Animista, crie sua própria solução!</small></p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <small>Aula 04 – Biblioteca de Animações | Anime.js + jQuery</small>
  </footer>

  <script>
    // --- Biblioteca de Animações Anime.js Aprimorada ---
    $(function() {
      // Lista expandida de animações
      const animations = [
        { name: 'Fade In', config: { opacity: [0, 1], duration: 900, easing: 'easeInOutQuad' } },
        { name: 'Fade Out', config: { opacity: [1, 0], duration: 900, easing: 'easeInOutQuad' } },
        { name: 'Slide In Left', config: { translateX: [-120, 0], opacity: [0, 1], duration: 900, easing: 'easeOutBack' } },
        { name: 'Slide In Right', config: { translateX: [120, 0], opacity: [0, 1], duration: 900, easing: 'easeOutBack' } },
        { name: 'Slide In Up', config: { translateY: [120, 0], opacity: [0, 1], duration: 900, easing: 'easeOutBack' } },
        { name: 'Slide Out Down', config: { translateY: [0, 120], opacity: [1, 0], duration: 900, easing: 'easeInBack' } },
        { name: 'Zoom In', config: { scale: [0.3, 1], opacity: [0, 1], duration: 900, easing: 'easeOutElastic(1, .8)' } },
        { name: 'Zoom Out', config: { scale: [1, 0.3], opacity: [1, 0], duration: 900, easing: 'easeInBack' } },
        { name: 'Rotate 360°', config: { rotate: [0, 360], duration: 1200, easing: 'easeInOutSine' } },
        { name: 'Flip X', config: { rotateY: [0, 180], duration: 1000, easing: 'easeInOutSine' } },
        { name: 'Flip Y', config: { rotateX: [0, 180], duration: 1000, easing: 'easeInOutSine' } },
        { name: 'Bounce', config: { translateY: [0, -80, 0], duration: 1000, easing: 'easeOutBounce' } },
        { name: 'Pulse', config: { scale: [1, 1.3, 1], duration: 800, easing: 'easeInOutSine', loop: 2 } },
        { name: 'Swing', config: { rotate: [-15, 15, -10, 10, 0], duration: 1200, easing: 'easeInOutSine' } },
        { name: 'RubberBand', config: { scaleX: [1, 1.25, 0.75, 1.15, 0.95, 1], scaleY: [1, 0.75, 1.25, 0.85, 1.05, 1], duration: 1200, easing: 'easeInOutSine' } },
        { name: 'Wobble', config: { translateX: [0, -25, 20, -15, 10, 0], rotate: [0, -5, 3, -3, 2, 0], duration: 1000, easing: 'easeInOutSine' } },
        { name: 'Shake', config: { translateX: [0, -10, 10, -10, 10, 0], duration: 600, easing: 'easeInOutSine' } },
        { name: 'Color Pulse', config: { backgroundColor: ['#fbbf24', '#6366f1', '#ec4899', '#fbbf24'], duration: 1200, easing: 'linear' } },
        { name: 'Glow Effect', config: { boxShadow: ['0 0 0 rgba(251, 191, 36, 0)', '0 0 30px rgba(251, 191, 36, 0.8)', '0 0 0 rgba(251, 191, 36, 0)'], duration: 1000, easing: 'easeInOutSine' } },
        { name: 'Morphing', config: { borderRadius: ['12px', '50%', '12px'], scale: [1, 1.2, 1], duration: 1000, easing: 'easeInOutBack' } },
        { name: 'Lightning', config: { opacity: [1, 0, 1, 0, 1], duration: 300, easing: 'linear' } },
        { name: 'Elastic Scale', config: { scale: [1, 0.3, 1.4, 0.8, 1.2, 1], duration: 1500, easing: 'easeOutElastic(1, .8)' } },
        { name: 'Rolling', config: { rotate: [0, 180], translateX: [0, 60], duration: 1000, easing: 'easeInOutQuad' } },
        { name: 'Heart Beat', config: { scale: [1, 1.3, 1, 1.3, 1], duration: 1000, easing: 'easeInOutSine' } },
        { name: 'Stagger Wave', config: { translateY: [0, -40, 0], delay: anime.stagger(100), duration: 900, easing: 'easeOutBack' }, isStagger: true },
        { name: 'Matrix Rain', config: { translateY: [-50, 100], opacity: [0, 1, 0], delay: anime.stagger(50), duration: 2000, easing: 'linear' }, isStagger: true },
        { name: 'Spiral', config: { rotate: [0, 720], scale: [1, 0.2, 1], duration: 2000, easing: 'easeInOutQuart' } },
        { name: 'Jello', config: { skewX: [0, -12.5, 6.25, -3.125, 1.5625, 0], skewY: [0, -12.5, 6.25, -3.125, 1.5625, 0], duration: 1000, easing: 'easeInOutSine' } }
      ];

      let magicModeActive = false;
      let typedText = '';

      // Inicialização com loading
      setTimeout(() => {
        $('#loadingOverlay').addClass('hidden');
        initializeApp();
      }, 1500);

      function initializeApp() {
        createParticles();
        createFloatingShapes();
        renderGallery();
        animateHeader();
        setupEventListeners();
        setupEasterEgg();
      }

      // Criar partículas de fundo
      function createParticles() {
        const particlesContainer = $('#particles');
        for (let i = 0; i < 50; i++) {
          const particle = $('<div class="particle"></div>');
          particle.css({
            left: Math.random() * 100 + '%',
            top: Math.random() * 100 + '%',
            animationDelay: Math.random() * 20 + 's',
            animationDuration: (Math.random() * 10 + 10) + 's'
          });
          particlesContainer.append(particle);
          
          // Animar partícula
          anime({
            targets: particle[0],
            translateY: [0, -100],
            opacity: [0.3, 0],
            duration: (Math.random() * 3000 + 2000),
            easing: 'linear',
            loop: true,
            delay: Math.random() * 5000
          });
        }
      }

      // Criar formas flutuantes
      function createFloatingShapes() {
        const shapesContainer = $('#floatingShapes');
        const shapes = ['circle', 'square', 'triangle'];
        
        for (let i = 0; i < 15; i++) {
          const shapeType = shapes[Math.floor(Math.random() * shapes.length)];
          const shape = $(`<div class="floating-shape shape-${shapeType}"></div>`);
          
          shape.css({
            left: Math.random() * 100 + '%',
            top: Math.random() * 100 + '%'
          });
          
          shapesContainer.append(shape);
          
          // Animar forma
          anime({
            targets: shape[0],
            translateX: [0, (Math.random() - 0.5) * 200],
            translateY: [0, (Math.random() - 0.5) * 200],
            rotate: [0, 360],
            scale: [0.5, 1, 0.5],
            duration: (Math.random() * 10000 + 5000),
            easing: 'easeInOutSine',
            loop: true,
            direction: 'alternate'
          });
        }
      }

      // Animar header
      function animateHeader() {
        anime({
          targets: 'header h1',
          scale: [0.8, 1],
          opacity: [0, 1],
          duration: 1000,
          easing: 'easeOutElastic(1, .8)',
          delay: 500
        });

        anime({
          targets: '.tab-btn',
          translateY: [50, 0],
          opacity: [0, 1],
          duration: 800,
          easing: 'easeOutBack',
          delay: anime.stagger(100, {start: 800})
        });
      }

      // Configurar event listeners
      function setupEventListeners() {
        // Abas com animação
        $('.tab-btn').on('click', function() {
          if ($(this).hasClass('active')) return;
          
          $('.tab-btn').removeClass('active');
          $(this).addClass('active');
          
          // Animar botão clicado
          anime({
            targets: this,
            scale: [1, 1.1, 1],
            duration: 300,
            easing: 'easeOutBack'
          });
          
          const tab = $(this).data('tab');
          $('.tab-content').removeClass('active');
          $('#tab-' + tab).addClass('active');

          // Animar conteúdo da aba
          anime({
            targets: '#tab-' + tab,
            opacity: [0, 1],
            translateY: [20, 0],
            duration: 500,
            easing: 'easeOutQuart'
          });
        });

        // Botão random com efeito especial
        $('#btnRandom').on('click', function() {
          // Animar o botão
          anime({
            targets: this,
            scale: [1, 0.95, 1.05, 1],
            rotate: [0, -5, 5, 0],
            duration: 300,
            easing: 'easeOutBack'
          });

          // Animação aleatória
          const randomIndex = Math.floor(Math.random() * animations.length);
          const randomPreview = $(`.template-preview`).eq(randomIndex);
          
          // Highlight do card selecionado
          randomPreview.parent().addClass('highlight');
          setTimeout(() => randomPreview.parent().removeClass('highlight'), 2000);
          
          animateTemplatePreview(randomPreview, animations[randomIndex].config, animations[randomIndex].isStagger);
          
          // Efeito de confetti
          createConfetti();
        });
      }

      // Galeria de animações
      function renderGallery() {
        const $gallery = $('#templateGallery');
        $gallery.empty();
        
        animations.forEach((anim, i) => {
          const $card = $('<div class="template-card"></div>');
          $card.append(`<div class="template-preview" id="tpl-prev-${i}">A</div>`);
          $card.append(`<div class="template-label">${anim.name}</div>`);
          $card.on('click', function() {
            animateTemplatePreview(`#tpl-prev-${i}`, anim.config, anim.isStagger);
          });
          $gallery.append($card);
          // Preview animado
          setTimeout(() => animateTemplatePreview(`#tpl-prev-${i}`, anim.config), 100);
        });
      }

      // Inicialização
      renderGallery();
      animateHeader();
      setupEventListeners();
    });
  </script>  
</body>